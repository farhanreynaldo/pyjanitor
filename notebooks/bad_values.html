
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>&lt;no title&gt; &#8212; pyjanitor  documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="&lt;no title&gt;" href="bird_call.html" />
    <link rel="prev" title="&lt;no title&gt;" href="anime.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <dl>
<dt>{</dt><dd><dl>
<dt>“cells”: [</dt><dd><dl>
<dt>{</dt><dd><p>“cell_type”: “markdown”,
“metadata”: {},
“source”: [</p>
<blockquote>
<div><p>“# Replacing Bad Valuesn”,
“n”,
“This is US wind turbine data. The numeric fields use -9999 as a null value for missing data. n”,
“Using -9999 as a null value in numeric fields will cause big problems for any summary statistics like totals, means, etc,n”,
“we should change that to something else, like np.NaN which Pandas sum and mean functions will automatically filter out.  n”,
“You can see that the means for before and after replacing -9999 with np.NaN are very different. n”,
“You can use Janitor’s find_replace to easily replace them. “</p>
</div></blockquote>
<p>]</p>
</dd>
</dl>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 2,
“metadata”: {},
“outputs”: [],
“source”: [</p>
<blockquote>
<div><p>“import pandas as pdn”,
“import janitorn”,
“import numpy as np”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “markdown”,
“metadata”: {},
“source”: [</p>
<blockquote>
<div><p>“## Load Wind Turbine Data”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 4,
“metadata”: {},
“outputs”: [</p>
<blockquote>
<div><dl>
<dt>{</dt><dd><dl>
<dt>“data”: {</dt><dd><dl class="simple">
<dt>“text/html”: [</dt><dd><p>“&lt;div&gt;n”,
“&lt;style scoped&gt;n”,
”    .dataframe tbody tr th:only-of-type {n”,
”        vertical-align: middle;n”,
”    }n”,
“n”,
”    .dataframe tbody tr th {n”,
”        vertical-align: top;n”,
”    }n”,
“n”,
”    .dataframe thead th {n”,
”        text-align: right;n”,
”    }n”,
“&lt;/style&gt;n”,
“&lt;table border=&quot;1&quot; class=&quot;dataframe&quot;&gt;n”,
”  &lt;thead&gt;n”,
”    &lt;tr style=&quot;text-align: right;&quot;&gt;n”,
”      &lt;th&gt;&lt;/th&gt;n”,
”      &lt;th&gt;case_id&lt;/th&gt;n”,
”      &lt;th&gt;faa_ors&lt;/th&gt;n”,
”      &lt;th&gt;faa_asn&lt;/th&gt;n”,
”      &lt;th&gt;usgs_pr_id&lt;/th&gt;n”,
”      &lt;th&gt;t_state&lt;/th&gt;n”,
”      &lt;th&gt;t_county&lt;/th&gt;n”,
”      &lt;th&gt;t_fips&lt;/th&gt;n”,
”      &lt;th&gt;p_name&lt;/th&gt;n”,
”      &lt;th&gt;p_year&lt;/th&gt;n”,
”      &lt;th&gt;p_tnum&lt;/th&gt;n”,
”      &lt;th&gt;…&lt;/th&gt;n”,
”      &lt;th&gt;t_hh&lt;/th&gt;n”,
”      &lt;th&gt;t_rd&lt;/th&gt;n”,
”      &lt;th&gt;t_rsa&lt;/th&gt;n”,
”      &lt;th&gt;t_ttlh&lt;/th&gt;n”,
”      &lt;th&gt;t_conf_atr&lt;/th&gt;n”,
”      &lt;th&gt;t_conf_loc&lt;/th&gt;n”,
”      &lt;th&gt;t_img_date&lt;/th&gt;n”,
”      &lt;th&gt;t_img_srce&lt;/th&gt;n”,
”      &lt;th&gt;xlong&lt;/th&gt;n”,
”      &lt;th&gt;ylat&lt;/th&gt;n”,
”    &lt;/tr&gt;n”,
”  &lt;/thead&gt;n”,
”  &lt;tbody&gt;n”,
”    &lt;tr&gt;n”,
”      &lt;th&gt;0&lt;/th&gt;n”,
”      &lt;td&gt;3073429&lt;/td&gt;n”,
”      &lt;td&gt;missing&lt;/td&gt;n”,
”      &lt;td&gt;missing&lt;/td&gt;n”,
”      &lt;td&gt;4960&lt;/td&gt;n”,
”      &lt;td&gt;CA&lt;/td&gt;n”,
”      &lt;td&gt;Kern County&lt;/td&gt;n”,
”      &lt;td&gt;6029&lt;/td&gt;n”,
”      &lt;td&gt;251 Wind&lt;/td&gt;n”,
”      &lt;td&gt;1987&lt;/td&gt;n”,
”      &lt;td&gt;194&lt;/td&gt;n”,
”      &lt;td&gt;…&lt;/td&gt;n”,
”      &lt;td&gt;-9999.0&lt;/td&gt;n”,
”      &lt;td&gt;-9999.0&lt;/td&gt;n”,
”      &lt;td&gt;-9999.0&lt;/td&gt;n”,
”      &lt;td&gt;-9999.0&lt;/td&gt;n”,
”      &lt;td&gt;2&lt;/td&gt;n”,
”      &lt;td&gt;3&lt;/td&gt;n”,
”      &lt;td&gt;1/1/2012&lt;/td&gt;n”,
”      &lt;td&gt;NAIP&lt;/td&gt;n”,
”      &lt;td&gt;-118.360725&lt;/td&gt;n”,
”      &lt;td&gt;35.083778&lt;/td&gt;n”,
”    &lt;/tr&gt;n”,
”    &lt;tr&gt;n”,
”      &lt;th&gt;1&lt;/th&gt;n”,
”      &lt;td&gt;3071522&lt;/td&gt;n”,
”      &lt;td&gt;missing&lt;/td&gt;n”,
”      &lt;td&gt;missing&lt;/td&gt;n”,
”      &lt;td&gt;4997&lt;/td&gt;n”,
”      &lt;td&gt;CA&lt;/td&gt;n”,
”      &lt;td&gt;Kern County&lt;/td&gt;n”,
”      &lt;td&gt;6029&lt;/td&gt;n”,
”      &lt;td&gt;251 Wind&lt;/td&gt;n”,
”      &lt;td&gt;1987&lt;/td&gt;n”,
”      &lt;td&gt;194&lt;/td&gt;n”,
”      &lt;td&gt;…&lt;/td&gt;n”,
”      &lt;td&gt;-9999.0&lt;/td&gt;n”,
”      &lt;td&gt;-9999.0&lt;/td&gt;n”,
”      &lt;td&gt;-9999.0&lt;/td&gt;n”,
”      &lt;td&gt;-9999.0&lt;/td&gt;n”,
”      &lt;td&gt;2&lt;/td&gt;n”,
”      &lt;td&gt;3&lt;/td&gt;n”,
”      &lt;td&gt;1/1/2012&lt;/td&gt;n”,
”      &lt;td&gt;NAIP&lt;/td&gt;n”,
”      &lt;td&gt;-118.361168&lt;/td&gt;n”,
”      &lt;td&gt;35.081512&lt;/td&gt;n”,
”    &lt;/tr&gt;n”,
”    &lt;tr&gt;n”,
”      &lt;th&gt;2&lt;/th&gt;n”,
”      &lt;td&gt;3073425&lt;/td&gt;n”,
”      &lt;td&gt;missing&lt;/td&gt;n”,
”      &lt;td&gt;missing&lt;/td&gt;n”,
”      &lt;td&gt;4957&lt;/td&gt;n”,
”      &lt;td&gt;CA&lt;/td&gt;n”,
”      &lt;td&gt;Kern County&lt;/td&gt;n”,
”      &lt;td&gt;6029&lt;/td&gt;n”,
”      &lt;td&gt;251 Wind&lt;/td&gt;n”,
”      &lt;td&gt;1987&lt;/td&gt;n”,
”      &lt;td&gt;194&lt;/td&gt;n”,
”      &lt;td&gt;…&lt;/td&gt;n”,
”      &lt;td&gt;-9999.0&lt;/td&gt;n”,
”      &lt;td&gt;-9999.0&lt;/td&gt;n”,
”      &lt;td&gt;-9999.0&lt;/td&gt;n”,
”      &lt;td&gt;-9999.0&lt;/td&gt;n”,
”      &lt;td&gt;2&lt;/td&gt;n”,
”      &lt;td&gt;3&lt;/td&gt;n”,
”      &lt;td&gt;1/1/2012&lt;/td&gt;n”,
”      &lt;td&gt;NAIP&lt;/td&gt;n”,
”      &lt;td&gt;-118.360420&lt;/td&gt;n”,
”      &lt;td&gt;35.084709&lt;/td&gt;n”,
”    &lt;/tr&gt;n”,
”    &lt;tr&gt;n”,
”      &lt;th&gt;3&lt;/th&gt;n”,
”      &lt;td&gt;3071569&lt;/td&gt;n”,
”      &lt;td&gt;missing&lt;/td&gt;n”,
”      &lt;td&gt;missing&lt;/td&gt;n”,
”      &lt;td&gt;5023&lt;/td&gt;n”,
”      &lt;td&gt;CA&lt;/td&gt;n”,
”      &lt;td&gt;Kern County&lt;/td&gt;n”,
”      &lt;td&gt;6029&lt;/td&gt;n”,
”      &lt;td&gt;251 Wind&lt;/td&gt;n”,
”      &lt;td&gt;1987&lt;/td&gt;n”,
”      &lt;td&gt;194&lt;/td&gt;n”,
”      &lt;td&gt;…&lt;/td&gt;n”,
”      &lt;td&gt;-9999.0&lt;/td&gt;n”,
”      &lt;td&gt;-9999.0&lt;/td&gt;n”,
”      &lt;td&gt;-9999.0&lt;/td&gt;n”,
”      &lt;td&gt;-9999.0&lt;/td&gt;n”,
”      &lt;td&gt;2&lt;/td&gt;n”,
”      &lt;td&gt;3&lt;/td&gt;n”,
”      &lt;td&gt;7/31/2016&lt;/td&gt;n”,
”      &lt;td&gt;Digital Globe&lt;/td&gt;n”,
”      &lt;td&gt;-118.364029&lt;/td&gt;n”,
”      &lt;td&gt;35.079418&lt;/td&gt;n”,
”    &lt;/tr&gt;n”,
”    &lt;tr&gt;n”,
”      &lt;th&gt;4&lt;/th&gt;n”,
”      &lt;td&gt;3005252&lt;/td&gt;n”,
”      &lt;td&gt;missing&lt;/td&gt;n”,
”      &lt;td&gt;missing&lt;/td&gt;n”,
”      &lt;td&gt;5768&lt;/td&gt;n”,
”      &lt;td&gt;CA&lt;/td&gt;n”,
”      &lt;td&gt;Kern County&lt;/td&gt;n”,
”      &lt;td&gt;6029&lt;/td&gt;n”,
”      &lt;td&gt;251 Wind&lt;/td&gt;n”,
”      &lt;td&gt;1987&lt;/td&gt;n”,
”      &lt;td&gt;194&lt;/td&gt;n”,
”      &lt;td&gt;…&lt;/td&gt;n”,
”      &lt;td&gt;-9999.0&lt;/td&gt;n”,
”      &lt;td&gt;-9999.0&lt;/td&gt;n”,
”      &lt;td&gt;-9999.0&lt;/td&gt;n”,
”      &lt;td&gt;-9999.0&lt;/td&gt;n”,
”      &lt;td&gt;2&lt;/td&gt;n”,
”      &lt;td&gt;3&lt;/td&gt;n”,
”      &lt;td&gt;11/23/2017&lt;/td&gt;n”,
”      &lt;td&gt;Digital Globe&lt;/td&gt;n”,
”      &lt;td&gt;-118.354286&lt;/td&gt;n”,
”      &lt;td&gt;35.085594&lt;/td&gt;n”,
”    &lt;/tr&gt;n”,
”  &lt;/tbody&gt;n”,
“&lt;/table&gt;n”,
“&lt;p&gt;5 rows × 24 columns&lt;/p&gt;n”,
“&lt;/div&gt;”</p>
</dd>
</dl>
<p>],
“text/plain”: [</p>
<blockquote>
<div><p>”   case_id  faa_ors  faa_asn  usgs_pr_id t_state     t_county  t_fips  \n”,
“0  3073429  missing  missing        4960      CA  Kern County    6029   n”,
“1  3071522  missing  missing        4997      CA  Kern County    6029   n”,
“2  3073425  missing  missing        4957      CA  Kern County    6029   n”,
“3  3071569  missing  missing        5023      CA  Kern County    6029   n”,
“4  3005252  missing  missing        5768      CA  Kern County    6029   n”,
“n”,
”     p_name  p_year  p_tnum  …    t_hh    t_rd   t_rsa  t_ttlh  t_conf_atr  \n”,
“0  251 Wind    1987     194  … -9999.0 -9999.0 -9999.0 -9999.0           2   n”,
“1  251 Wind    1987     194  … -9999.0 -9999.0 -9999.0 -9999.0           2   n”,
“2  251 Wind    1987     194  … -9999.0 -9999.0 -9999.0 -9999.0           2   n”,
“3  251 Wind    1987     194  … -9999.0 -9999.0 -9999.0 -9999.0           2   n”,
“4  251 Wind    1987     194  … -9999.0 -9999.0 -9999.0 -9999.0           2   n”,
“n”,
”   t_conf_loc  t_img_date     t_img_srce       xlong       ylat  n”,
“0           3    1/1/2012           NAIP -118.360725  35.083778  n”,
“1           3    1/1/2012           NAIP -118.361168  35.081512  n”,
“2           3    1/1/2012           NAIP -118.360420  35.084709  n”,
“3           3   7/31/2016  Digital Globe -118.364029  35.079418  n”,
“4           3  11/23/2017  Digital Globe -118.354286  35.085594  n”,
“n”,
“[5 rows x 24 columns]”</p>
</div></blockquote>
<p>]</p>
</dd>
</dl>
<p>},
“execution_count”: 4,
“metadata”: {},
“output_type”: “execute_result”</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>],
“source”: [</p>
<blockquote>
<div><p>“wind = pd.read_csv(n”,
”    &quot;<a class="reference external" href="https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2018/2018-11-06/us_wind.csv">https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2018/2018-11-06/us_wind.csv</a>&quot;n”,
“)n”,
“wind.head()”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “markdown”,
“metadata”: {},
“source”: [</p>
<blockquote>
<div><p>“## Check Mean”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 5,
“metadata”: {},
“outputs”: [</p>
<blockquote>
<div><dl>
<dt>{</dt><dd><dl>
<dt>“data”: {</dt><dd><dl class="simple">
<dt>“text/plain”: [</dt><dd><p>“-1069.986537767466”</p>
</dd>
</dl>
<p>]</p>
</dd>
</dl>
<p>},
“execution_count”: 5,
“metadata”: {},
“output_type”: “execute_result”</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>],
“source”: [</p>
<blockquote>
<div><p>“wind.t_hh.mean()”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “markdown”,
“metadata”: {},
“source”: [</p>
<blockquote>
<div><p>“The t_hh column appears to be affected by -9999 values. n”,
“What are all the columns that are affected?”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 6,
“metadata”: {</p>
<blockquote>
<div><p>“scrolled”: true</p>
</div></blockquote>
<p>},
“outputs”: [</p>
<blockquote>
<div><dl>
<dt>{</dt><dd><dl>
<dt>“data”: {</dt><dd><dl class="simple">
<dt>“text/plain”: [</dt><dd><p>“[‘usgs_pr_id’, ‘p_year’, ‘p_cap’, ‘t_cap’, ‘t_hh’, ‘t_rd’, ‘t_rsa’, ‘t_ttlh’]”</p>
</dd>
</dl>
<p>]</p>
</dd>
</dl>
<p>},
“execution_count”: 6,
“metadata”: {},
“output_type”: “execute_result”</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>],
“source”: [</p>
<blockquote>
<div><p>“[col for col in wind.columns if -9999 in wind[col].values]”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “markdown”,
“metadata”: {},
“source”: [</p>
<blockquote>
<div><p>“Note:n”,
“When replacing the -9999 values you can make a copy of the dataframe to prevent making modifications to the original dataframe.”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “markdown”,
“metadata”: {},
“source”: [</p>
<blockquote>
<div><p>“At first glance, it looks like the mean is negative, but this is only because of the bad values (-9999.0) throughout the column. To get the right mean, we should replace them!## Replace Bad Values with NaNs”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 7,
“metadata”: {},
“outputs”: [</p>
<blockquote>
<div><dl>
<dt>{</dt><dd><dl>
<dt>“data”: {</dt><dd><dl class="simple">
<dt>“text/html”: [</dt><dd><p>“&lt;div&gt;n”,
“&lt;style scoped&gt;n”,
”    .dataframe tbody tr th:only-of-type {n”,
”        vertical-align: middle;n”,
”    }n”,
“n”,
”    .dataframe tbody tr th {n”,
”        vertical-align: top;n”,
”    }n”,
“n”,
”    .dataframe thead th {n”,
”        text-align: right;n”,
”    }n”,
“&lt;/style&gt;n”,
“&lt;table border=&quot;1&quot; class=&quot;dataframe&quot;&gt;n”,
”  &lt;thead&gt;n”,
”    &lt;tr style=&quot;text-align: right;&quot;&gt;n”,
”      &lt;th&gt;&lt;/th&gt;n”,
”      &lt;th&gt;case_id&lt;/th&gt;n”,
”      &lt;th&gt;faa_ors&lt;/th&gt;n”,
”      &lt;th&gt;faa_asn&lt;/th&gt;n”,
”      &lt;th&gt;usgs_pr_id&lt;/th&gt;n”,
”      &lt;th&gt;t_state&lt;/th&gt;n”,
”      &lt;th&gt;t_county&lt;/th&gt;n”,
”      &lt;th&gt;t_fips&lt;/th&gt;n”,
”      &lt;th&gt;p_name&lt;/th&gt;n”,
”      &lt;th&gt;p_year&lt;/th&gt;n”,
”      &lt;th&gt;p_tnum&lt;/th&gt;n”,
”      &lt;th&gt;…&lt;/th&gt;n”,
”      &lt;th&gt;t_hh&lt;/th&gt;n”,
”      &lt;th&gt;t_rd&lt;/th&gt;n”,
”      &lt;th&gt;t_rsa&lt;/th&gt;n”,
”      &lt;th&gt;t_ttlh&lt;/th&gt;n”,
”      &lt;th&gt;t_conf_atr&lt;/th&gt;n”,
”      &lt;th&gt;t_conf_loc&lt;/th&gt;n”,
”      &lt;th&gt;t_img_date&lt;/th&gt;n”,
”      &lt;th&gt;t_img_srce&lt;/th&gt;n”,
”      &lt;th&gt;xlong&lt;/th&gt;n”,
”      &lt;th&gt;ylat&lt;/th&gt;n”,
”    &lt;/tr&gt;n”,
”  &lt;/thead&gt;n”,
”  &lt;tbody&gt;n”,
”    &lt;tr&gt;n”,
”      &lt;th&gt;0&lt;/th&gt;n”,
”      &lt;td&gt;3073429&lt;/td&gt;n”,
”      &lt;td&gt;missing&lt;/td&gt;n”,
”      &lt;td&gt;missing&lt;/td&gt;n”,
”      &lt;td&gt;4960.0&lt;/td&gt;n”,
”      &lt;td&gt;CA&lt;/td&gt;n”,
”      &lt;td&gt;Kern County&lt;/td&gt;n”,
”      &lt;td&gt;6029&lt;/td&gt;n”,
”      &lt;td&gt;251 Wind&lt;/td&gt;n”,
”      &lt;td&gt;1987&lt;/td&gt;n”,
”      &lt;td&gt;194&lt;/td&gt;n”,
”      &lt;td&gt;…&lt;/td&gt;n”,
”      &lt;td&gt;NaN&lt;/td&gt;n”,
”      &lt;td&gt;NaN&lt;/td&gt;n”,
”      &lt;td&gt;NaN&lt;/td&gt;n”,
”      &lt;td&gt;NaN&lt;/td&gt;n”,
”      &lt;td&gt;2&lt;/td&gt;n”,
”      &lt;td&gt;3&lt;/td&gt;n”,
”      &lt;td&gt;1/1/2012&lt;/td&gt;n”,
”      &lt;td&gt;NAIP&lt;/td&gt;n”,
”      &lt;td&gt;-118.360725&lt;/td&gt;n”,
”      &lt;td&gt;35.083778&lt;/td&gt;n”,
”    &lt;/tr&gt;n”,
”    &lt;tr&gt;n”,
”      &lt;th&gt;1&lt;/th&gt;n”,
”      &lt;td&gt;3071522&lt;/td&gt;n”,
”      &lt;td&gt;missing&lt;/td&gt;n”,
”      &lt;td&gt;missing&lt;/td&gt;n”,
”      &lt;td&gt;4997.0&lt;/td&gt;n”,
”      &lt;td&gt;CA&lt;/td&gt;n”,
”      &lt;td&gt;Kern County&lt;/td&gt;n”,
”      &lt;td&gt;6029&lt;/td&gt;n”,
”      &lt;td&gt;251 Wind&lt;/td&gt;n”,
”      &lt;td&gt;1987&lt;/td&gt;n”,
”      &lt;td&gt;194&lt;/td&gt;n”,
”      &lt;td&gt;…&lt;/td&gt;n”,
”      &lt;td&gt;NaN&lt;/td&gt;n”,
”      &lt;td&gt;NaN&lt;/td&gt;n”,
”      &lt;td&gt;NaN&lt;/td&gt;n”,
”      &lt;td&gt;NaN&lt;/td&gt;n”,
”      &lt;td&gt;2&lt;/td&gt;n”,
”      &lt;td&gt;3&lt;/td&gt;n”,
”      &lt;td&gt;1/1/2012&lt;/td&gt;n”,
”      &lt;td&gt;NAIP&lt;/td&gt;n”,
”      &lt;td&gt;-118.361168&lt;/td&gt;n”,
”      &lt;td&gt;35.081512&lt;/td&gt;n”,
”    &lt;/tr&gt;n”,
”    &lt;tr&gt;n”,
”      &lt;th&gt;2&lt;/th&gt;n”,
”      &lt;td&gt;3073425&lt;/td&gt;n”,
”      &lt;td&gt;missing&lt;/td&gt;n”,
”      &lt;td&gt;missing&lt;/td&gt;n”,
”      &lt;td&gt;4957.0&lt;/td&gt;n”,
”      &lt;td&gt;CA&lt;/td&gt;n”,
”      &lt;td&gt;Kern County&lt;/td&gt;n”,
”      &lt;td&gt;6029&lt;/td&gt;n”,
”      &lt;td&gt;251 Wind&lt;/td&gt;n”,
”      &lt;td&gt;1987&lt;/td&gt;n”,
”      &lt;td&gt;194&lt;/td&gt;n”,
”      &lt;td&gt;…&lt;/td&gt;n”,
”      &lt;td&gt;NaN&lt;/td&gt;n”,
”      &lt;td&gt;NaN&lt;/td&gt;n”,
”      &lt;td&gt;NaN&lt;/td&gt;n”,
”      &lt;td&gt;NaN&lt;/td&gt;n”,
”      &lt;td&gt;2&lt;/td&gt;n”,
”      &lt;td&gt;3&lt;/td&gt;n”,
”      &lt;td&gt;1/1/2012&lt;/td&gt;n”,
”      &lt;td&gt;NAIP&lt;/td&gt;n”,
”      &lt;td&gt;-118.360420&lt;/td&gt;n”,
”      &lt;td&gt;35.084709&lt;/td&gt;n”,
”    &lt;/tr&gt;n”,
”    &lt;tr&gt;n”,
”      &lt;th&gt;3&lt;/th&gt;n”,
”      &lt;td&gt;3071569&lt;/td&gt;n”,
”      &lt;td&gt;missing&lt;/td&gt;n”,
”      &lt;td&gt;missing&lt;/td&gt;n”,
”      &lt;td&gt;5023.0&lt;/td&gt;n”,
”      &lt;td&gt;CA&lt;/td&gt;n”,
”      &lt;td&gt;Kern County&lt;/td&gt;n”,
”      &lt;td&gt;6029&lt;/td&gt;n”,
”      &lt;td&gt;251 Wind&lt;/td&gt;n”,
”      &lt;td&gt;1987&lt;/td&gt;n”,
”      &lt;td&gt;194&lt;/td&gt;n”,
”      &lt;td&gt;…&lt;/td&gt;n”,
”      &lt;td&gt;NaN&lt;/td&gt;n”,
”      &lt;td&gt;NaN&lt;/td&gt;n”,
”      &lt;td&gt;NaN&lt;/td&gt;n”,
”      &lt;td&gt;NaN&lt;/td&gt;n”,
”      &lt;td&gt;2&lt;/td&gt;n”,
”      &lt;td&gt;3&lt;/td&gt;n”,
”      &lt;td&gt;7/31/2016&lt;/td&gt;n”,
”      &lt;td&gt;Digital Globe&lt;/td&gt;n”,
”      &lt;td&gt;-118.364029&lt;/td&gt;n”,
”      &lt;td&gt;35.079418&lt;/td&gt;n”,
”    &lt;/tr&gt;n”,
”    &lt;tr&gt;n”,
”      &lt;th&gt;4&lt;/th&gt;n”,
”      &lt;td&gt;3005252&lt;/td&gt;n”,
”      &lt;td&gt;missing&lt;/td&gt;n”,
”      &lt;td&gt;missing&lt;/td&gt;n”,
”      &lt;td&gt;5768.0&lt;/td&gt;n”,
”      &lt;td&gt;CA&lt;/td&gt;n”,
”      &lt;td&gt;Kern County&lt;/td&gt;n”,
”      &lt;td&gt;6029&lt;/td&gt;n”,
”      &lt;td&gt;251 Wind&lt;/td&gt;n”,
”      &lt;td&gt;1987&lt;/td&gt;n”,
”      &lt;td&gt;194&lt;/td&gt;n”,
”      &lt;td&gt;…&lt;/td&gt;n”,
”      &lt;td&gt;NaN&lt;/td&gt;n”,
”      &lt;td&gt;NaN&lt;/td&gt;n”,
”      &lt;td&gt;NaN&lt;/td&gt;n”,
”      &lt;td&gt;NaN&lt;/td&gt;n”,
”      &lt;td&gt;2&lt;/td&gt;n”,
”      &lt;td&gt;3&lt;/td&gt;n”,
”      &lt;td&gt;11/23/2017&lt;/td&gt;n”,
”      &lt;td&gt;Digital Globe&lt;/td&gt;n”,
”      &lt;td&gt;-118.354286&lt;/td&gt;n”,
”      &lt;td&gt;35.085594&lt;/td&gt;n”,
”    &lt;/tr&gt;n”,
”  &lt;/tbody&gt;n”,
“&lt;/table&gt;n”,
“&lt;p&gt;5 rows × 24 columns&lt;/p&gt;n”,
“&lt;/div&gt;”</p>
</dd>
</dl>
<p>],
“text/plain”: [</p>
<blockquote>
<div><p>”   case_id  faa_ors  faa_asn  usgs_pr_id t_state     t_county  t_fips  \n”,
“0  3073429  missing  missing      4960.0      CA  Kern County    6029   n”,
“1  3071522  missing  missing      4997.0      CA  Kern County    6029   n”,
“2  3073425  missing  missing      4957.0      CA  Kern County    6029   n”,
“3  3071569  missing  missing      5023.0      CA  Kern County    6029   n”,
“4  3005252  missing  missing      5768.0      CA  Kern County    6029   n”,
“n”,
”     p_name  p_year  p_tnum  …  t_hh t_rd t_rsa  t_ttlh  t_conf_atr  \n”,
“0  251 Wind    1987     194  …   NaN  NaN   NaN     NaN           2   n”,
“1  251 Wind    1987     194  …   NaN  NaN   NaN     NaN           2   n”,
“2  251 Wind    1987     194  …   NaN  NaN   NaN     NaN           2   n”,
“3  251 Wind    1987     194  …   NaN  NaN   NaN     NaN           2   n”,
“4  251 Wind    1987     194  …   NaN  NaN   NaN     NaN           2   n”,
“n”,
”   t_conf_loc  t_img_date     t_img_srce       xlong       ylat  n”,
“0           3    1/1/2012           NAIP -118.360725  35.083778  n”,
“1           3    1/1/2012           NAIP -118.361168  35.081512  n”,
“2           3    1/1/2012           NAIP -118.360420  35.084709  n”,
“3           3   7/31/2016  Digital Globe -118.364029  35.079418  n”,
“4           3  11/23/2017  Digital Globe -118.354286  35.085594  n”,
“n”,
“[5 rows x 24 columns]”</p>
</div></blockquote>
<p>]</p>
</dd>
</dl>
<p>},
“execution_count”: 7,
“metadata”: {},
“output_type”: “execute_result”</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>],
“source”: [</p>
<blockquote>
<div><p>“mapping = {-9999.0: np.nan}n”,
“wind2 = (n”,
”    windn”,
”    .find_replace(n”,
”        usgs_pr_id=mapping,n”,
”        p_tnum=mapping,n”,
”        p_cap=mapping,n”,
”        t_cap=mapping,n”,
”        t_hh=mapping,n”,
”        t_rd=mapping,n”,
”        t_rsa=mapping,n”,
”        t_ttlh=mapping,n”,
”    )n”,
“)n”,
“wind2.head()”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “markdown”,
“metadata”: {},
“source”: [</p>
<blockquote>
<div><p>“## Check the Mean (again)”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 8,
“metadata”: {},
“outputs”: [</p>
<blockquote>
<div><dl>
<dt>{</dt><dd><dl>
<dt>“data”: {</dt><dd><dl class="simple">
<dt>“text/plain”: [</dt><dd><p>“77.31203064391”</p>
</dd>
</dl>
<p>]</p>
</dd>
</dl>
<p>},
“execution_count”: 8,
“metadata”: {},
“output_type”: “execute_result”</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>],
“source”: [</p>
<blockquote>
<div><p>“wind2.t_hh.mean()”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “markdown”,
“metadata”: {},
“source”: [</p>
<blockquote>
<div><p>“And, now that the bad values were replaced by NaNs (which the mean() method ignores), the calculated mean is correct!”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “markdown”,
“metadata”: {},
“source”: [</p>
<blockquote>
<div><p>“## Alternate method”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “markdown”,
“metadata”: {},
“source”: [</p>
<blockquote>
<div><p>“If we look at the description of the data (see [README](<a class="reference external" href="https://github.com/rfordatascience/tidytuesday/blob/master/data/2018/2018-11-06/readme.md">https://github.com/rfordatascience/tidytuesday/blob/master/data/2018/2018-11-06/readme.md</a>)) we can find descriptions for our data values, for example:n”,
“n”,
“- <cite>p_year</cite>: Year project became operationaln”,
“- <cite>t_hh</cite>: Turbine hub height (meters)n”,
“- <cite>xlong</cite>: Longituden”,
“n”,
“Using our knowledge of the data, this would give us bounds we could use for these values. For example, the oldest electric wind turbine was built in 1887 and this document was written in 2018, so $1887 \leq \text{p_year} \leq 2018$. Turbine hub height should be positive, and a value above 1 km would be silly, so $0 &lt; \text{t_hh} &lt; 1000$. These are wind turbines in the United States, so $-161.76 &lt; \text{xlong} &lt; -68.01$.n”,
“n”,
“(Note that the README actually gives us minima and maxima for the data, so we could get much tighter bounds from that.)n”,
“n”,
“To filter out potential bad values, we will use <cite>update_where</cite> to remove values outside these ranges.”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 9,
“metadata”: {},
“outputs”: [],
“source”: [</p>
<blockquote>
<div><p>“# Note that update_where mutates the original dataframen”,
“(n”,
”    wind.update_where(n”,
”        (wind[‘p_year’] &lt; 1887) | (wind[‘p_year’] &gt; 2018), ‘p_year’, np.nann”,
”    )n”,
”    .update_where((wind[‘t_hh’] &lt;= 0) | (wind[‘t_hh’] &gt;= 1000), ‘t_hh’, np.nan)n”,
”    .update_where((wind[‘xlong’] &lt; -161.76) | (wind[‘xlong’] &gt; -68.01), ‘xlong’, np.nan)n”,
“);”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “markdown”,
“metadata”: {},
“source”: [</p>
<blockquote>
<div><p>“## Confirming this produces the same result”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 10,
“metadata”: {},
“outputs”: [</p>
<blockquote>
<div><dl>
<dt>{</dt><dd><dl>
<dt>“data”: {</dt><dd><dl class="simple">
<dt>“text/plain”: [</dt><dd><p>“77.31203064391”</p>
</dd>
</dl>
<p>]</p>
</dd>
</dl>
<p>},
“execution_count”: 10,
“metadata”: {},
“output_type”: “execute_result”</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>],
“source”: [</p>
<blockquote>
<div><p>“wind.t_hh.mean()”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>}</p>
</dd>
</dl>
<p>],
“metadata”: {</p>
<blockquote>
<div><dl class="simple">
<dt>“kernelspec”: {</dt><dd><p>“display_name”: “Python 3”,
“language”: “python”,
“name”: “python3”</p>
</dd>
</dl>
<p>},
“language_info”: {</p>
<blockquote>
<div><dl class="simple">
<dt>“codemirror_mode”: {</dt><dd><p>“name”: “ipython”,
“version”: 3</p>
</dd>
</dl>
<p>},
“file_extension”: “.py”,
“mimetype”: “text/x-python”,
“name”: “python”,
“nbconvert_exporter”: “python”,
“pygments_lexer”: “ipython3”,
“version”: “3.7.6”</p>
</div></blockquote>
<p>}</p>
</div></blockquote>
<p>},
“nbformat”: 4,
“nbformat_minor”: 4</p>
</dd>
</dl>
<p>}</p>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../index.html">
    <img class="logo" src="../_static/logo_title.svg" alt="Logo"/>
    
  </a>
</p>








<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/index.html">API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../authors.html">Contributors</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="../notebooks.html">Examples</a><ul>
      <li>Previous: <a href="anime.html" title="previous chapter">&lt;no title&gt;</a></li>
      <li>Next: <a href="bird_call.html" title="next chapter">&lt;no title&gt;</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2021, PyJanitor devs.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.1.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/notebooks/bad_values.ipynb.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>